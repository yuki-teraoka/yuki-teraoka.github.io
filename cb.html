<!DOCTYPE html>
<html>
  <head><meta charset='utf-8' />
  <script type="text/javascript">
    var hash = location.hash.match(/^#(.+)$/)[0];
    if (!hash) {
			window.close();
			return;
		}
		var parentWindow = parent.postMessage ? parent : (parent.document.postMessage ? parent.document : undefined);
    if (!parentWindow) {
			return;
		}
    var origin = parent.location.match(/^https?:\/\/[^/?#]+)/)[0];
    if (!origin) {
			return;
		}
		var pairs = hash.split('&');
    var data = {};
    for(var i=0,l=pairs.length; i<l; i++) {
      var pair = pairs.split('=', 2);
			data[pair[0]] = decodeUriComponent(pair[1]);
		}
    parentWindow.postMessage(data, origin);
    window.close();
  </script>
  </head>
  <body>
	</body>
</html>
