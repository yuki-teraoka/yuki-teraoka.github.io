{"version":3,"sources":["webpack:///webpack/bootstrap 4291115aec55d90eadc6","webpack:///./src/coffee/sym-prof-loader.coffee","webpack:///./src/coffee/google.coffee","webpack:///./src/coffee/profile.coffee","webpack:///./src/coffee/provider.coffee"],"names":[],"mappings":"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","file":"sym-prof-loader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4291115aec55d90eadc6\n **/","class SymProfLoader\n  extend = (obj, mixin) ->\n    obj[name] = method for name, method of mixin\n    obj\n\n  include = (klass, mixin) ->\n    extend klass.prototype, mixin\n\n  @init: (options) ->\n    console.log(\"INITIALIZING!!\") if __DEBUG__\n    console.log(options) if __DEBUG__\n    new @(options.attributes, options.providers)\n\n  construct: (@attributes, @providers) ->\n    document.addEventListener @onProfileLoaded\n    @initProviders()\n\n  onProfileLoaded: (event) =>\n    @assignAttributes(event.profile)\n\n  assignAttributes: (profile) ->\n    for selector, attrName of @attributes\n      for elem in document.querySelectorAll(selector)\n        assignElementValue(elem, profile[attrName]?())\n\n  assignElementValue: (elem, value) ->\n    switch elem.tagName.toLowerCase()\n      when 'input', 'textarea'\n        elem.value = value if value\n      when 'select'\n        for option in document.querySelectorAll(selector)\n          option.selected = value and value == option.value\n      when 'checkbox'\n        elem.checked = value and value == elem.value\n      else\n        textNode = document.createTextNode(value)\n        elem.removeChild(elem.firstChild) while elem.firstChild\n        elem.addChild(textNode)\n\n  initProviders: ->\n    attributeNames = (value for selector, attrName of @attributes)\n    @providers = (initProvider(extend({attributeNames: attributeNames}, providerConfig)) for providerConfig in @providers)\n\n  initProvider: (providerName, config) ->\n    providerClass = \n    switch providerName\n      when 'google'\n        require('google')\n      else\n        console.log(\"Unsupported Provider '#{providerName}'\")\n    console.log(\"init provider\") if __DEBUG__\n    providerClass.load config\n\nwindow.SymProfLoader = SymProfLoader\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/coffee/sym-prof-loader.coffee\n **/","class GoogleProfileProvider extends require('provider')\n  LIBRARY_URL = 'https://apis.google.com/js/api.js'\n\n  @load: (config)->\n    new GoogleProfileLoader(config).initialize()\n\n  constructor: (@config) ->\n    supr @config\n\n  initialize: ->\n    loadGapi()\n    @\n\n  requestProfile: (event) =>\n    @gapi.auth2.signOut()\n    @gapi.auth2.signIn()\n\n  updateSigninStatus: (isSignedIn) =>\n    if isSignedIn\n      @profileLoaded(@createProfile())\n    end\n\n  createProfile: ->\n    new BasicProfile(auth2.currentUser.get().getBasicProfile())\n\n  loadGapi: ->\n    if window.gapi\n      @onClientLoad()\n    else\n      window.googleClientLoadHandler = @onClientLoad\n      @loadScript \"#{LIBRARY_URL}?onload=googleClientLoadHandler\"\n\n  onClientLoad: =>\n    @gapi = window.gapi\n    @gapi.client.setApiKey @config.apiKey\n    @gapi.load('client:auth2', @initAuth)\n\n  initAuth: =>\n    @initButton @config.button\n    @gapi.auth2.isSignedIn.listen(@updateSigninStatus);\n    @gapi.client.init(\n      client_id: @config.clientId\n      scope:     @scopes()\n    ).then( -> \n      auth2 = @gapi.auth2.getAuthInstance()\n      @updateSigninStatus(auth2.isSignedIn.get());\n    ).then(@profileLoaded)\n\n  class BasicProfile extends require('profile')\n    constructor: (@basicProfile) ->\n    givenName: -> @basicProfile.getGivenName()\n    firstName: -> @basicProfile.getFirstName()\n    email:     -> @basicProfile.getEmail()\n\nmodule.exports = GoogleProfileLoader\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/coffee/google.coffee\n **/","class Profile\n  ATTRIBUTE_NAMES = ['givenName', 'firstName', 'email']\n  constructor: (@attributs = {}) ->\n  fullName: -> \"#{givenName} #{firstName}\"\n  @prototype.attrName = (-> @attributes[attrName]) for attrName in ATTRIBUTE_NAMES\n\nmodule.exports = Profile\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/coffee/profile.coffee\n **/","class ProfileProvider\n  constructor: (@config) ->\n\n  initButton: (option) ->\n    for elem in document.querySelectorAll(option)\n      elem.className.replace(/(?:^| ) *prof-button-loading *(?: |$)/, 'none')\n      elem.className += ' ' if elem.className\n      elem.className += 'prof-button-initialized'\n      elem.addEventListener(@onButtonClick)\n\n  profileLoaded: (@profile) ->\n     event = document.createEvent('Event')\n     event.initEvent('profileLoaded', true, false)\n     event.profile = @profile\n     event.profileProvider = @\n     document.dispatchEvent(event)\n\n  scopes: ->\n    ['profile', 'email']\n\n  loadScript: (url) ->\n    fs = document.getElementsByTagName('script')[0]\n    script = document.createElement('script')\n    script.setAttribute('src', url)\n    fs.parentNode.insertBefore(s, fs)\n\nmodule.exports = ProfileProvider\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/coffee/provider.coffee\n **/"],"sourceRoot":""}